function daysInMonth(a,b){return new Date(b,a+1,0).getDate()}function d3_time_range(a,b,c){return function(d,e,f){var g=a(d),h=[];if(d>g&&b(g),f>1)for(;e>g;){var i=new Date(+g);c(i)%f===0&&h.push(i),b(g)}else for(;e>g;)h.push(new Date(+g)),b(g);return h}}var nv=window.nv||{};nv.version="0.0.1a",nv.dev=!0,window.nv=nv,nv.tooltip={},nv.utils={},nv.models={},nv.charts={},nv.graphs=[],nv.logs={},nv.dispatch=d3.dispatch("render_start","render_end"),nv.dev&&(nv.dispatch.on("render_start",function(){nv.logs.startTime=+new Date}),nv.dispatch.on("render_end",function(){nv.logs.endTime=+new Date,nv.logs.totalTime=nv.logs.endTime-nv.logs.startTime,nv.log("total",nv.logs.totalTime)})),nv.log=function(){if(nv.dev&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(nv.dev&&console.log&&Function.prototype.bind){var a=Function.prototype.bind.call(console.log,console);a.apply(console,arguments)}return arguments[arguments.length-1]},nv.render=function(a){a=a||1,nv.render.active=!0,nv.dispatch.render_start(),setTimeout(function(){for(var b,c,d=0;a>d&&(c=nv.render.queue[d]);d++)b=c.generate(),typeof c.callback==typeof Function&&c.callback(b),nv.graphs.push(b);nv.render.queue.splice(0,d),nv.render.queue.length?setTimeout(arguments.callee,0):(nv.render.active=!1,nv.dispatch.render_end())},0)},nv.render.active=!1,nv.render.queue=[],nv.addGraph=function(a){typeof arguments[0]==typeof Function&&(a={generate:arguments[0],callback:arguments[1]}),nv.render.queue.push(a),nv.render.active||nv.render()},nv.identity=function(a){return a},nv.strip=function(a){return a.replace(/(\s|&)/g,"")},d3.time.monthEnd=function(a){return new Date(a.getFullYear(),a.getMonth(),0)},d3.time.monthEnds=d3_time_range(d3.time.monthEnd,function(a){a.setUTCDate(a.getUTCDate()+1),a.setDate(daysInMonth(a.getMonth()+1,a.getFullYear()))},function(a){return a.getMonth()});