nv.models.multiBarHorizontalChart=function(){function a(o){return o.each(function(q){var w=d3.select(this),x=this,y=(j||parseInt(w.style("width"))||960)-i.left-i.right,z=(k||parseInt(w.style("height"))||400)-i.top-i.bottom;if(a.update=function(){o.transition().call(a)},a.container=this,r.disabled=q.map(function(a){return!!a.disabled}),!(q&&q.length&&q.filter(function(a){return a.values.length}).length)){var A=w.selectAll(".nv-noData").data([s]);return A.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),A.attr("x",i.left+y/2).attr("y",i.top+z/2).text(function(a){return a}),a}w.selectAll(".nv-noData").remove(),b=d.xScale(),c=d.yScale();var B=w.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([q]),C=B.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),D=B.select("g");if(C.append("g").attr("class","nv-x nv-axis"),C.append("g").attr("class","nv-y nv-axis"),C.append("g").attr("class","nv-barsWrap"),C.append("g").attr("class","nv-legendWrap"),C.append("g").attr("class","nv-controlsWrap"),n&&(g.width(y-u()),d.barColor()&&q.forEach(function(a,b){a.color=d3.rgb("#ccc").darker(1.5*b).toString()}),D.select(".nv-legendWrap").datum(q).call(g),i.top!=g.height()&&(i.top=g.height(),z=(k||parseInt(w.style("height"))||400)-i.top-i.bottom),D.select(".nv-legendWrap").attr("transform","translate("+u()+","+-i.top+")")),m){var E=[{key:"Grouped",disabled:d.stacked()},{key:"Stacked",disabled:!d.stacked()}];h.width(u()).color(["#444","#444","#444"]),D.select(".nv-controlsWrap").datum(E).attr("transform","translate(0,"+-i.top+")").call(h)}B.attr("transform","translate("+i.left+","+i.top+")"),d.disabled(q.map(function(a){return a.disabled})).width(y).height(z).color(q.map(function(a,b){return a.color||l(a,b)}).filter(function(a,b){return!q[b].disabled}));var F=D.select(".nv-barsWrap").datum(q.filter(function(a){return!a.disabled}));d3.transition(F).call(d),e.scale(b).ticks(z/24).tickSize(-y,0),d3.transition(D.select(".nv-x.nv-axis")).call(e);var G=D.select(".nv-x.nv-axis").selectAll("g");G.selectAll("line, text").style("opacity",1),f.scale(c).ticks(y/100).tickSize(-z,0),D.select(".nv-y.nv-axis").attr("transform","translate(0,"+z+")"),d3.transition(D.select(".nv-y.nv-axis")).call(f),g.dispatch.on("legendClick",function(b){b.disabled=!b.disabled,q.filter(function(a){return!a.disabled}).length||q.map(function(a){return a.disabled=!1,B.selectAll(".nv-series").classed("disabled",!1),a}),r.disabled=q.map(function(a){return!!a.disabled}),t.stateChange(r),o.transition().call(a)}),h.dispatch.on("legendClick",function(b){if(b.disabled){switch(E=E.map(function(a){return a.disabled=!0,a}),b.disabled=!1,b.key){case"Grouped":d.stacked(!1);break;case"Stacked":d.stacked(!0)}r.stacked=d.stacked(),t.stateChange(r),o.transition().call(a)}}),t.on("tooltipShow",function(a){p&&v(a,x.parentNode)}),t.on("changeState",function(b){"undefined"!=typeof b.disabled&&(q.forEach(function(a,c){a.disabled=b.disabled[c]}),r.disabled=b.disabled),"undefined"!=typeof b.stacked&&(d.stacked(b.stacked),r.stacked=b.stacked),o.call(a)})}),a}var b,c,d=nv.models.multiBarHorizontal(),e=nv.models.axis(),f=nv.models.axis(),g=nv.models.legend().height(30),h=nv.models.legend().height(30),i={top:30,right:20,bottom:50,left:60},j=null,k=null,l=nv.utils.defaultColor(),m=!0,n=!0,o=!1,p=!0,q=function(a,b,c){return"<h3>"+a+" - "+b+"</h3><p>"+c+"</p>"},r={stacked:o},s="No Data Available.",t=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),u=function(){return m?180:0};d.stacked(o),e.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(a){return a}),f.orient("bottom").tickFormat(d3.format(",.1f"));var v=function(b,c){var g=b.pos[0]+(c.offsetLeft||0),h=b.pos[1]+(c.offsetTop||0),i=e.tickFormat()(d.x()(b.point,b.pointIndex)),j=f.tickFormat()(d.y()(b.point,b.pointIndex)),k=q(b.series.key,i,j,b,a);nv.tooltip.show([g,h],k,b.value<0?"e":"w",null,c)};return d.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+i.left,a.pos[1]+i.top],t.tooltipShow(a)}),d.dispatch.on("elementMouseout.tooltip",function(a){t.tooltipHide(a)}),t.on("tooltipHide",function(){p&&nv.tooltip.cleanup()}),a.dispatch=t,a.multibar=d,a.legend=g,a.xAxis=e,a.yAxis=f,d3.rebind(a,d,"x","y","xDomain","yDomain","forceX","forceY","clipEdge","id","delay","showValues","valueFormat","stacked","barColor"),a.margin=function(b){return arguments.length?(i.top="undefined"!=typeof b.top?b.top:i.top,i.right="undefined"!=typeof b.right?b.right:i.right,i.bottom="undefined"!=typeof b.bottom?b.bottom:i.bottom,i.left="undefined"!=typeof b.left?b.left:i.left,a):i},a.width=function(b){return arguments.length?(j=b,a):j},a.height=function(b){return arguments.length?(k=b,a):k},a.color=function(b){return arguments.length?(l=nv.utils.getColor(b),g.color(l),a):l},a.showControls=function(b){return arguments.length?(m=b,a):m},a.showLegend=function(b){return arguments.length?(n=b,a):n},a.tooltip=function(b){return arguments.length?(q=b,a):q},a.tooltips=function(b){return arguments.length?(p=b,a):p},a.tooltipContent=function(b){return arguments.length?(q=b,a):q},a.state=function(b){return arguments.length?(r=b,a):r},a.noData=function(b){return arguments.length?(s=b,a):s},a};