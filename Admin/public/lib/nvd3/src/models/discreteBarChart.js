nv.models.discreteBarChart=function(){function a(j){return j.each(function(m){var q=d3.select(this),r=this,s=(h||parseInt(q.style("width"))||960)-g.left-g.right,t=(i||parseInt(q.style("height"))||400)-g.top-g.bottom;if(a.update=function(){o.beforeUpdate(),j.transition().call(a)},a.container=this,!(m&&m.length&&m.filter(function(a){return a.values.length}).length)){var u=q.selectAll(".nv-noData").data([n]);return u.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),u.attr("x",g.left+s/2).attr("y",g.top+t/2).text(function(a){return a}),a}q.selectAll(".nv-noData").remove(),b=d.xScale(),c=d.yScale();var v=q.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([m]),w=v.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),x=w.append("defs"),y=v.select("g");w.append("g").attr("class","nv-x nv-axis"),w.append("g").attr("class","nv-y nv-axis"),w.append("g").attr("class","nv-barsWrap"),y.attr("transform","translate("+g.left+","+g.top+")"),d.width(s).height(t);var z=y.select(".nv-barsWrap").datum(m.filter(function(a){return!a.disabled}));d3.transition(z).call(d),x.append("clipPath").attr("id","nv-x-label-clip-"+d.id()).append("rect"),y.select("#nv-x-label-clip-"+d.id()+" rect").attr("width",b.rangeBand()*(k?2:1)).attr("height",16).attr("x",-b.rangeBand()/(k?1:2)),e.scale(b).ticks(s/100).tickSize(-t,0),y.select(".nv-x.nv-axis").attr("transform","translate(0,"+(c.range()[0]+(d.showValues()&&c.domain()[0]<0?16:0))+")"),y.select(".nv-x.nv-axis").transition().duration(0).call(e);var A=y.select(".nv-x.nv-axis").selectAll("g");k&&A.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"}),f.scale(c).ticks(t/36).tickSize(-s,0),d3.transition(y.select(".nv-y.nv-axis")).call(f),o.on("tooltipShow",function(a){l&&p(a,r.parentNode)})}),a}var b,c,d=nv.models.discreteBar(),e=nv.models.axis(),f=nv.models.axis(),g={top:15,right:10,bottom:50,left:60},h=null,i=null,j=nv.utils.getColor(),k=!1,l=!0,m=function(a,b,c){return"<h3>"+b+"</h3><p>"+c+"</p>"},n="No Data Available.",o=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate");e.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(a){return a}),f.orient("left").tickFormat(d3.format(",.1f"));var p=function(b,c){var g=b.pos[0]+(c.offsetLeft||0),h=b.pos[1]+(c.offsetTop||0),i=e.tickFormat()(d.x()(b.point,b.pointIndex)),j=f.tickFormat()(d.y()(b.point,b.pointIndex)),k=m(b.series.key,i,j,b,a);nv.tooltip.show([g,h],k,b.value<0?"n":"s",null,c)};return d.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+g.left,a.pos[1]+g.top],o.tooltipShow(a)}),d.dispatch.on("elementMouseout.tooltip",function(a){o.tooltipHide(a)}),o.on("tooltipHide",function(){l&&nv.tooltip.cleanup()}),a.dispatch=o,a.discretebar=d,a.xAxis=e,a.yAxis=f,d3.rebind(a,d,"x","y","xDomain","yDomain","forceX","forceY","id","showValues","valueFormat"),a.margin=function(b){return arguments.length?(g.top="undefined"!=typeof b.top?b.top:g.top,g.right="undefined"!=typeof b.right?b.right:g.right,g.bottom="undefined"!=typeof b.bottom?b.bottom:g.bottom,g.left="undefined"!=typeof b.left?b.left:g.left,a):g},a.width=function(b){return arguments.length?(h=b,a):h},a.height=function(b){return arguments.length?(i=b,a):i},a.color=function(b){return arguments.length?(j=nv.utils.getColor(b),d.color(j),a):j},a.staggerLabels=function(b){return arguments.length?(k=b,a):k},a.tooltips=function(b){return arguments.length?(l=b,a):l},a.tooltipContent=function(b){return arguments.length?(m=b,a):m},a.noData=function(b){return arguments.length?(n=b,a):n},a};