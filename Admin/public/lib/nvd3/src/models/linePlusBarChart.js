nv.models.linePlusBarChart=function(){function a(n){return n.each(function(o){var s=d3.select(this),x=this,y=(l||parseInt(s.style("width"))||960)-k.left-k.right,z=(m||parseInt(s.style("height"))||400)-k.top-k.bottom;if(a.update=function(){a(n)},a.container=this,v.disabled=o.map(function(a){return!!a.disabled}),!(o&&o.length&&o.filter(function(a){return a.values.length}).length)){var A=s.selectAll(".nv-noData").data([t]);return A.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),A.attr("x",k.left+y/2).attr("y",k.top+z/2).text(function(a){return a}),a}s.selectAll(".nv-noData").remove();var B=o.filter(function(a){return!a.disabled&&a.bar}),C=o.filter(function(a){return!a.bar});b=C.filter(function(a){return!a.disabled}).length&&C.filter(function(a){return!a.disabled})[0].values.length?e.xScale():f.xScale(),c=f.yScale(),d=e.yScale();var D=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([o]),E=D.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),F=D.select("g");E.append("g").attr("class","nv-x nv-axis"),E.append("g").attr("class","nv-y1 nv-axis"),E.append("g").attr("class","nv-y2 nv-axis"),E.append("g").attr("class","nv-barsWrap"),E.append("g").attr("class","nv-linesWrap"),E.append("g").attr("class","nv-legendWrap"),q&&(j.width(y/2),F.select(".nv-legendWrap").datum(o.map(function(a){return a.originalKey=void 0===a.originalKey?a.key:a.originalKey,a.key=a.originalKey+(a.bar?" (left axis)":" (right axis)"),a})).call(j),k.top!=j.height()&&(k.top=j.height(),z=(m||parseInt(s.style("height"))||400)-k.top-k.bottom),F.select(".nv-legendWrap").attr("transform","translate("+y/2+","+-k.top+")")),D.attr("transform","translate("+k.left+","+k.top+")"),e.width(y).height(z).color(o.map(function(a,b){return a.color||p(a,b)}).filter(function(a,b){return!o[b].disabled&&!o[b].bar})),f.width(y).height(z).color(o.map(function(a,b){return a.color||p(a,b)}).filter(function(a,b){return!o[b].disabled&&o[b].bar}));var G=F.select(".nv-barsWrap").datum(B.length?B:[{values:[]}]),H=F.select(".nv-linesWrap").datum(C[0].disabled?[{values:[]}]:C);d3.transition(G).call(f),d3.transition(H).call(e),g.scale(b).ticks(y/100).tickSize(-z,0),F.select(".nv-x.nv-axis").attr("transform","translate(0,"+c.range()[0]+")"),d3.transition(F.select(".nv-x.nv-axis")).call(g),h.scale(c).ticks(z/36).tickSize(-y,0),d3.transition(F.select(".nv-y1.nv-axis")).style("opacity",B.length?1:0).call(h),i.scale(d).ticks(z/36).tickSize(B.length?0:-y,0),F.select(".nv-y2.nv-axis").style("opacity",C.length?1:0).attr("transform","translate("+y+",0)"),d3.transition(F.select(".nv-y2.nv-axis")).call(i),j.dispatch.on("legendClick",function(b){b.disabled=!b.disabled,o.filter(function(a){return!a.disabled}).length||o.map(function(a){return a.disabled=!1,D.selectAll(".nv-series").classed("disabled",!1),a}),v.disabled=o.map(function(a){return!!a.disabled}),u.stateChange(v),n.transition().call(a)}),u.on("tooltipShow",function(a){r&&w(a,x.parentNode)}),u.on("changeState",function(b){"undefined"!=typeof b.disabled&&(o.forEach(function(a,c){a.disabled=b.disabled[c]}),v.disabled=b.disabled),n.call(a)})}),a}var b,c,d,e=nv.models.line(),f=nv.models.historicalBar(),g=nv.models.axis(),h=nv.models.axis(),i=nv.models.axis(),j=nv.models.legend(),k={top:30,right:60,bottom:50,left:60},l=null,m=null,n=function(a){return a.x},o=function(a){return a.y},p=nv.utils.defaultColor(),q=!0,r=!0,s=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" at "+b+"</p>"},t="No Data Available.",u=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");f.padData(!0),e.clipEdge(!1).padData(!0),g.orient("bottom").tickPadding(7).highlightZero(!1),h.orient("left"),i.orient("right");var v={},w=function(b,c){var d=b.pos[0]+(c.offsetLeft||0),f=b.pos[1]+(c.offsetTop||0),j=g.tickFormat()(e.x()(b.point,b.pointIndex)),k=(b.series.bar?h:i).tickFormat()(e.y()(b.point,b.pointIndex)),l=s(b.series.key,j,k,b,a);nv.tooltip.show([d,f],l,b.value<0?"n":"s",null,c)};return e.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+k.left,a.pos[1]+k.top],u.tooltipShow(a)}),e.dispatch.on("elementMouseout.tooltip",function(a){u.tooltipHide(a)}),f.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+k.left,a.pos[1]+k.top],u.tooltipShow(a)}),f.dispatch.on("elementMouseout.tooltip",function(a){u.tooltipHide(a)}),u.on("tooltipHide",function(){r&&nv.tooltip.cleanup()}),a.dispatch=u,a.legend=j,a.lines=e,a.bars=f,a.xAxis=g,a.y1Axis=h,a.y2Axis=i,d3.rebind(a,e,"defined","size","clipVoronoi","interpolate"),a.x=function(b){return arguments.length?(n=b,e.x(b),f.x(b),a):n},a.y=function(b){return arguments.length?(o=b,e.y(b),f.y(b),a):o},a.margin=function(b){return arguments.length?(k.top="undefined"!=typeof b.top?b.top:k.top,k.right="undefined"!=typeof b.right?b.right:k.right,k.bottom="undefined"!=typeof b.bottom?b.bottom:k.bottom,k.left="undefined"!=typeof b.left?b.left:k.left,a):k},a.width=function(b){return arguments.length?(l=b,a):l},a.height=function(b){return arguments.length?(m=b,a):m},a.color=function(b){return arguments.length?(p=nv.utils.getColor(b),j.color(p),a):p},a.showLegend=function(b){return arguments.length?(q=b,a):q},a.tooltips=function(b){return arguments.length?(r=b,a):r},a.tooltipContent=function(b){return arguments.length?(s=b,a):s},a.state=function(b){return arguments.length?(v=b,a):v},a.noData=function(b){return arguments.length?(t=b,a):t},a};