nv.models.multiBarHorizontal=function(){function a(j){return j.each(function(a){{var j=h-g.left-g.right,v=i-g.top-g.bottom;d3.select(this)}r&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(n)(a)),a=a.map(function(a,b){return a.values=a.values.map(function(a){return a.series=b,a}),a}),r&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(a){var b=a.values[c];b.size=Math.abs(b.y),b.y<0?(b.y1=e-b.size,e-=b.size):(b.y1=d,d+=b.size)})});var x=c&&d?[]:a.map(function(a){return a.values.map(function(a,b){return{x:m(a,b),y:n(a,b),y0:a.y0,y1:a.y1}})});k.domain(c||d3.merge(x).map(function(a){return a.x})).rangeBands([0,v],.1),l.domain(d||d3.extent(d3.merge(x).map(function(a){return r?a.y>0?a.y1+a.y:a.y1:a.y}).concat(o))),l.range(s&&!r?[l.domain()[0]<0?t:0,j-(l.domain()[1]>0?t:0)]:[0,j]),e=e||k,f=f||d3.scale.linear().domain(l.domain()).range([l(0),l(0)]);{var y=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]),z=y.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),A=(z.append("defs"),z.append("g"));y.select("g")}A.append("g").attr("class","nv-groups"),y.attr("transform","translate("+g.left+","+g.top+")");var B=y.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});B.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),d3.transition(B.exit()).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),B.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return p(a,b)}).style("stroke",function(a,b){return p(a,b)}),d3.transition(B).style("stroke-opacity",1).style("fill-opacity",.75);var C=B.selectAll("g.nv-bar").data(function(a){return a.values});C.exit().remove();var D=C.enter().append("g").attr("transform",function(b,c,d){return"translate("+f(r?b.y0:0)+","+(r?0:d*k.rangeBand()/a.length+k(m(b,c)))+")"});D.append("rect").attr("width",0).attr("height",k.rangeBand()/(r?1:a.length)),C.on("mouseover",function(b,c){d3.select(this).classed("hover",!0),w.elementMouseover({value:n(b,c),point:b,series:a[b.series],pos:[l(n(b,c)+(r?b.y0:0)),k(m(b,c))+k.rangeBand()*(r?a.length/2:b.series+.5)/a.length],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,c){d3.select(this).classed("hover",!1),w.elementMouseout({value:n(b,c),point:b,series:a[b.series],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("click",function(b,c){w.elementClick({value:n(b,c),point:b,series:a[b.series],pos:[k(m(b,c))+k.rangeBand()*(r?a.length/2:b.series+.5)/a.length,l(n(b,c)+(r?b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(b,c){w.elementDblClick({value:n(b,c),point:b,series:a[b.series],pos:[k(m(b,c))+k.rangeBand()*(r?a.length/2:b.series+.5)/a.length,l(n(b,c)+(r?b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event}),d3.event.stopPropagation()}),D.append("text"),s&&!r?(C.select("text").attr("text-anchor",function(a,b){return n(a,b)<0?"end":"start"}).attr("y",k.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){return u(n(a,b))}),d3.transition(C).select("text").attr("x",function(a,b){return n(a,b)<0?-4:l(n(a,b))-l(0)+4})):C.selectAll("text").text(""),C.attr("class",function(a,b){return n(a,b)<0?"nv-bar negative":"nv-bar positive"}),q&&(b||(b=a.map(function(){return!0})),C.style("fill",function(a,c,d){return d3.rgb(q(a,c)).darker(b.map(function(a,b){return b}).filter(function(a,c){return!b[c]})[d]).toString()}).style("stroke",function(a,c,d){return d3.rgb(q(a,c)).darker(b.map(function(a,b){return b}).filter(function(a,c){return!b[c]})[d]).toString()})),r?d3.transition(C).attr("transform",function(a,b){return"translate("+l(a.y1)+","+k(m(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(l(n(a,b)+a.y0)-l(a.y0))}).attr("height",k.rangeBand()):d3.transition(C).attr("transform",function(b,c){return"translate("+l(n(b,c)<0?n(b,c):0)+","+(b.series*k.rangeBand()/a.length+k(m(b,c)))+")"}).select("rect").attr("height",k.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(l(n(a,b))-l(0)),1)}),e=k.copy(),f=l.copy()}),a}var b,c,d,e,f,g={top:0,right:0,bottom:0,left:0},h=960,i=500,j=Math.floor(1e4*Math.random()),k=d3.scale.ordinal(),l=d3.scale.linear(),m=function(a){return a.x},n=function(a){return a.y},o=[0],p=nv.utils.defaultColor(),q=null,r=!1,s=!1,t=60,u=d3.format(",.2f"),v=1200,w=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return a.dispatch=w,a.x=function(b){return arguments.length?(m=b,a):m},a.y=function(b){return arguments.length?(n=b,a):n},a.margin=function(b){return arguments.length?(g.top="undefined"!=typeof b.top?b.top:g.top,g.right="undefined"!=typeof b.right?b.right:g.right,g.bottom="undefined"!=typeof b.bottom?b.bottom:g.bottom,g.left="undefined"!=typeof b.left?b.left:g.left,a):g},a.width=function(b){return arguments.length?(h=b,a):h},a.height=function(b){return arguments.length?(i=b,a):i},a.xScale=function(b){return arguments.length?(k=b,a):k},a.yScale=function(b){return arguments.length?(l=b,a):l},a.xDomain=function(b){return arguments.length?(c=b,a):c},a.yDomain=function(b){return arguments.length?(d=b,a):d},a.forceY=function(b){return arguments.length?(o=b,a):o},a.stacked=function(b){return arguments.length?(r=b,a):r},a.color=function(b){return arguments.length?(p=nv.utils.getColor(b),a):p},a.barColor=function(b){return arguments.length?(q=nv.utils.getColor(b),a):q},a.disabled=function(c){return arguments.length?(b=c,a):b},a.id=function(b){return arguments.length?(j=b,a):j},a.delay=function(b){return arguments.length?(v=b,a):v},a.showValues=function(b){return arguments.length?(s=b,a):s},a.valueFormat=function(b){return arguments.length?(u=b,a):u},a.valuePadding=function(b){return arguments.length?(t=b,a):t},a};