nv.models.lineChart=function(){function a(k){return k.each(function(w){function x(){if(i)return E.select(".nv-point-paths").style("pointer-events","all"),!1;E.select(".nv-background").style("pointer-events","all"),E.select(".nv-point-paths").style("pointer-events","none");var a=d3.mouse(this);F.call(n),E.select(".nv-x.nv-axis").call(p),m.distortion(h).focus(a[0])}var y=d3.select(this),z=this,A=(d||parseInt(y.style("width"))||960)-b.left-b.right,B=(e||parseInt(y.style("height"))||400)-b.top-b.bottom;if(!(w&&w.length&&w.filter(function(a){return a.values.length}).length))return y.append("text").attr("class","nvd3 nv-noData").attr("x",A/2).attr("y",B/2).attr("dy","-.7em").style("text-anchor","middle").text(l),a;y.select(".nv-noData").remove();var C=y.selectAll("g.nv-wrap.nv-lineChart").data([w]),D=C.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g");D.append("rect").attr("class","nvd3 nv-background").attr("width",A).attr("height",B),D.append("g").attr("class","nv-x nv-axis"),D.append("g").attr("class","nv-y nv-axis"),D.append("g").attr("class","nv-linesWrap"),D.append("g").attr("class","nv-legendWrap"),D.append("g").attr("class","nv-controlsWrap"),D.append("g").attr("class","nv-controlsWrap");var E=C.select("g");f&&(r.width(A),E.select(".nv-legendWrap").datum(w).call(r),b.top!=r.height()&&(b.top=r.height(),B=(e||parseInt(y.style("height"))||400)-b.top-b.bottom),E.select(".nv-legendWrap").attr("transform","translate(0,"+-b.top+")")),g&&(s.width(180).color(["#444"]),E.select(".nv-controlsWrap").datum(v).attr("transform","translate(0,"+-b.top+")").call(s)),n.width(A).height(B).color(w.map(function(a,b){return a.color||c(a,b)}).filter(function(a,b){return!w[b].disabled})),E.attr("transform","translate("+b.left+","+b.top+")");var F=E.select(".nv-linesWrap").datum(w.filter(function(a){return!a.disabled}));d3.transition(F).call(n),p.ticks(A/100).tickSize(-B,0),E.select(".nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),d3.transition(E.select(".nv-x.nv-axis")).call(p),q.ticks(B/36).tickSize(-A,0),d3.transition(E.select(".nv-y.nv-axis")).call(q),E.select(".nv-background").on("mousemove",x),E.select(".nv-background").on("click",function(){i=!i}),s.dispatch.on("legendClick",function(b){b.disabled=!b.disabled,h=b.disabled?0:5,E.select(".nv-background").style("pointer-events",b.disabled?"none":"all"),E.select(".nv-point-paths").style("pointer-events",b.disabled?"all":"none"),b.disabled?(m.distortion(h).focus(0),F.call(n),E.select(".nv-x.nv-axis").call(p)):i=!1,k.transition().call(a)}),r.dispatch.on("legendClick",function(b){b.disabled=!b.disabled,w.filter(function(a){return!a.disabled}).length||w.map(function(a){return a.disabled=!1,C.selectAll(".nv-series").classed("disabled",!1),a}),k.transition().call(a)}),n.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top],t.tooltipShow(a)}),j&&t.on("tooltipShow",function(a){u(a,z.parentNode)}),n.dispatch.on("elementMouseout.tooltip",function(a){t.tooltipHide(a)}),j&&t.on("tooltipHide",nv.tooltip.cleanup)}),a.update=function(){a(k)},a.container=this,a}var b={top:30,right:20,bottom:50,left:60},c=nv.utils.defaultColor(),d=null,e=null,f=!0,g=!0,h=0,i=!1,j=!0,k=function(a,b,c){return"<h3>"+a+"</h3><p>"+c+" at "+b+"</p>"},l="No Data Available.",m=d3.fisheye.scale(d3.scale.linear).distortion(0),n=nv.models.line().xScale(m),o=n.yScale(),p=nv.models.axis().scale(m).orient("bottom").tickPadding(5),q=nv.models.axis().scale(o).orient("left"),r=nv.models.legend().height(30),s=nv.models.legend().height(30),t=d3.dispatch("tooltipShow","tooltipHide"),u=function(b,c){var d=b.pos[0]+(c.offsetLeft||0),e=b.pos[1]+(c.offsetTop||0),f=p.tickFormat()(n.x()(b.point,b.pointIndex)),g=q.tickFormat()(n.y()(b.point,b.pointIndex)),h=k(b.series.key,f,g,b,a);nv.tooltip.show([d,e],h,null,null,c)},v=[{key:"Magnify",disabled:!0}];return a.dispatch=t,a.legend=r,a.xAxis=p,a.yAxis=q,d3.rebind(a,n,"defined","x","y","size","xDomain","yDomain","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate"),a.margin=function(c){return arguments.length?(b=c,a):b},a.width=function(b){return arguments.length?(d=b,a):d},a.height=function(b){return arguments.length?(e=b,a):e},a.color=function(b){return arguments.length?(c=nv.utils.getColor(b),r.color(c),a):c},a.showLegend=function(b){return arguments.length?(f=b,a):f},a.tooltips=function(b){return arguments.length?(j=b,a):j},a.tooltipContent=function(b){return arguments.length?(k=b,a):k},a.noData=function(b){return arguments.length?(l=b,a):l},a};